{"last_node_id":173,"last_link_id":410,"nodes":[{"id":56,"type":"VAEEncode","pos":[671,-829],"size":{"0":210,"1":46},"flags":{},"order":16,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":87},{"name":"vae","type":"VAE","link":88}],"outputs":[{"name":"LATENT","type":"LATENT","links":[235],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":164,"type":"PreviewImage","pos":[1232,-1526],"size":{"0":210,"1":246},"flags":{},"order":18,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":381}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#2a363b","bgcolor":"#3f5159"},{"id":93,"type":"ADE_AnimateDiffLoaderWithContext","pos":[577,-449],"size":{"0":315,"1":190},"flags":{},"order":22,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":398},{"name":"context_options","type":"CONTEXT_OPTIONS","link":334,"slot_index":1},{"name":"motion_lora","type":"MOTION_LORA","link":null},{"name":"motion_model_settings","type":"MOTION_MODEL_SETTINGS","link":null,"slot_index":3}],"outputs":[{"name":"MODEL","type":"MODEL","links":[234],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ADE_AnimateDiffLoaderWithContext"},"widgets_values":["hsxl_temporal_layers.f16.safetensors","linear (HotshotXL/default)",1,false]},{"id":169,"type":"MiDaS-DepthMapPreprocessor","pos":[634.9331396484365,-1216.3608808593754],"size":{"0":315,"1":106},"flags":{},"order":14,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":408}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[380,381],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MiDaS-DepthMapPreprocessor"},"widgets_values":[6.283185307179586,0.1,512],"color":"#2a363b","bgcolor":"#3f5159"},{"id":128,"type":"CLIPTextEncodeSDXL","pos":[853.0998967929683,607.2679884267576],"size":{"0":400,"1":270.0000305175781},"flags":{},"order":11,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":331}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[260],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncodeSDXL"},"widgets_values":[1024,1024,0,0,1024,1024,"bad anatomy, bad hands, missing fingers, extra digit, fewer digits","bad anatomy, bad hands, missing fingers, extra digit, fewer digits"]},{"id":72,"type":"ControlNetApplyAdvanced","pos":[1027,-1153],"size":{"0":315,"1":166},"flags":{},"order":17,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":258},{"name":"negative","type":"CONDITIONING","link":260},{"name":"control_net","type":"CONTROL_NET","link":118},{"name":"image","type":"IMAGE","link":380}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[386],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[387],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,0.5],"color":"#2a363b","bgcolor":"#3f5159"},{"id":127,"type":"CLIPTextEncodeSDXL","pos":[858.0998967929683,266.26798842675777],"size":{"0":400,"1":270},"flags":{},"order":10,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":330}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[258],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncodeSDXL"},"widgets_values":[1024,1024,0,0,1024,1024,"1girl, flat anime style, warrior, wielding a sword, fighting, at the beach, waves, sand, sunshine","1girl, flat anime style, warrior, wielding a sword, fighting,\nat the beach, waves, sand, sunshine"]},{"id":159,"type":"ADE_AnimateDiffUniformContextOptions","pos":[165,-481],"size":{"0":315,"1":154},"flags":{},"order":0,"mode":0,"outputs":[{"name":"CONTEXT_OPTIONS","type":"CONTEXT_OPTIONS","links":[334],"shape":3}],"properties":{"Node name for S&R":"ADE_AnimateDiffUniformContextOptions"},"widgets_values":[8,1,3,"uniform",false]},{"id":110,"type":"CheckpointLoaderSimple","pos":[-1446.8618516344986,-564.8298062451869],"size":{"0":388.18182373046875,"1":98},"flags":{},"order":1,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[346],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[330,331],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":null,"shape":3}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["counterfeitxl_v10.safetensors"],"color":"#432","bgcolor":"#653"},{"id":2,"type":"VAELoader","pos":[-1447.8618516344986,-321.8298062451872],"size":{"0":385.8948669433594,"1":58},"flags":{},"order":2,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[10,88],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["sdxl_vae.safetensors"],"color":"#332922","bgcolor":"#593930"},{"id":142,"type":"PreviewImage","pos":[-532.9137871796875,1455.042057128907],"size":{"0":210,"1":246},"flags":{},"order":20,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":376}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#432","bgcolor":"#653"},{"id":137,"type":"IPAdapterApply","pos":[-602.9137871796875,857.0420571289061],"size":{"0":315,"1":258},"flags":{},"order":19,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":273,"slot_index":0},{"name":"clip_vision","type":"CLIP_VISION","link":274,"slot_index":1},{"name":"image","type":"IMAGE","link":375,"slot_index":2},{"name":"model","type":"MODEL","link":346},{"name":"attn_mask","type":"MASK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[391],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterApply"},"widgets_values":[0.4,0.25,"original",0,1,true],"color":"#432","bgcolor":"#653"},{"id":166,"type":"PrepImageForClipVision","pos":[-974.9137871796875,1140.042057128907],"size":{"0":315,"1":106},"flags":{},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":409}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[375,376],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"PrepImageForClipVision"},"widgets_values":["LANCZOS","pad",0],"color":"#432","bgcolor":"#653"},{"id":170,"type":"IPAdapterApply","pos":[47.717973830273465,743.5125180156258],"size":{"0":315,"1":258},"flags":{},"order":21,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":393},{"name":"clip_vision","type":"CLIP_VISION","link":394},{"name":"image","type":"IMAGE","link":390},{"name":"model","type":"MODEL","link":391},{"name":"attn_mask","type":"MASK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[398],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterApply"},"widgets_values":[0.4,0.25,"original",0,1,false],"color":"#432","bgcolor":"#653"},{"id":112,"type":"KSamplerAdvanced","pos":[1515,-477],"size":{"0":315,"1":334},"flags":{},"order":23,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":234},{"name":"positive","type":"CONDITIONING","link":386},{"name":"negative","type":"CONDITIONING","link":387},{"name":"latent_image","type":"LATENT","link":235,"slot_index":3}],"outputs":[{"name":"LATENT","type":"LATENT","links":[233],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSamplerAdvanced"},"widgets_values":["enable",736619743473040,"fixed",25,8,"euler_ancestral","ddim_uniform",5,10000,"disable"],"color":"#223","bgcolor":"#335"},{"id":171,"type":"PrepImageForClipVision","pos":[31.717973830273465,1192.5125180156235],"size":{"0":315,"1":106},"flags":{},"order":12,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":389}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[390],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"PrepImageForClipVision"},"widgets_values":["LANCZOS","pad",0],"color":"#432","bgcolor":"#653"},{"id":70,"type":"ControlNetLoaderAdvanced","pos":[670,-1572],"size":{"0":367.79998779296875,"1":58},"flags":{},"order":3,"mode":0,"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[118],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"widgets_values":["t2i-adapter_diffusers_xl_depth_midas.safetensors"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":53,"type":"ImageScale","pos":[-175,-825],"size":{"0":315,"1":130},"flags":{},"order":13,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":407},{"name":"width","type":"INT","link":222,"widget":{"name":"width"},"slot_index":1},{"name":"height","type":"INT","link":223,"widget":{"name":"height"},"slot_index":2}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[87],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",576,1024,"disabled"]},{"id":139,"type":"CLIPVisionLoader","pos":[-1649,962],"size":{"0":315,"1":58},"flags":{},"order":4,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[274,394],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["SD1.5/model.safetensors"],"color":"#432","bgcolor":"#653"},{"id":138,"type":"IPAdapterModelLoader","pos":[-1650,811],"size":{"0":315,"1":58},"flags":{},"order":5,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[273,393],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter_sdxl_vit-h.safetensors"],"color":"#432","bgcolor":"#653"},{"id":140,"type":"LoadImage","pos":[53.717973830273465,1434.5125180156235],"size":{"0":315,"1":314.00006103515625},"flags":{},"order":6,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[389],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["00069-1912257583.jpeg","image"],"color":"#432","bgcolor":"#653"},{"id":104,"type":"PrimitiveNode","pos":[-1397.8618516344986,-924.8298062451878],"size":{"0":210,"1":82},"flags":{"collapsed":false},"order":7,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[222],"slot_index":0,"widget":{"name":"width"}}],"title":"Width","properties":{},"widgets_values":[576,"fixed"],"color":"#332922","bgcolor":"#593930"},{"id":105,"type":"PrimitiveNode","pos":[-1393.8618516344986,-789.829806245187],"size":{"0":210,"1":82},"flags":{"collapsed":false},"order":8,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[223],"slot_index":0,"widget":{"name":"height"}}],"title":"Height","properties":{},"widgets_values":[1024,"fixed"],"color":"#332922","bgcolor":"#593930"},{"id":10,"type":"VAEDecode","pos":[1998,-409],"size":{"0":210,"1":46},"flags":{},"order":24,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":233},{"name":"vae","type":"VAE","link":10}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[410],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":172,"type":"VHS_LoadVideo","pos":[-1958,-1246],"size":[235.1999969482422,678.1333279079861],"flags":{},"order":9,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[407,408,409],"shape":3,"slot_index":0},{"name":"frame_count","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"VHS_LoadVideo"},"widgets_values":{"video":"video.mp4","force_rate":0,"force_size":"Disabled","custom_width":512,"custom_height":512,"frame_load_cap":16,"skip_first_frames":0,"select_every_nth":2,"choose file to upload":"image","choose video to upload":"image","videopreview":{"hidden":true,"paused":false,"params":{"filename":"video.mp4","type":"input","format":"video"}},"ad_video_preview__0":"https://cloud.comfy.icu/view?filename=video.mp4&type=input&subfolder=&format=video%2Fmp4&projectId=r07DoeIOdXptJvj2D-cyC"}},{"id":173,"type":"VHS_VideoCombine","pos":[2540,-429],"size":{"0":315,"1":202},"flags":{},"order":25,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":410}],"outputs":[],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":8,"loop_count":0,"filename_prefix":"HotShotXL","format":"video/h264-mp4","pingpong":false,"save_image":true,"crf":20,"videopreview":{"hidden":false,"paused":false}}}],"links":[[10,2,0,10,1,"VAE"],[87,53,0,56,0,"IMAGE"],[88,2,0,56,1,"VAE"],[118,70,0,72,2,"CONTROL_NET"],[222,104,0,53,1,"INT"],[223,105,0,53,2,"INT"],[233,112,0,10,0,"LATENT"],[234,93,0,112,0,"MODEL"],[235,56,0,112,3,"LATENT"],[258,127,0,72,0,"CONDITIONING"],[260,128,0,72,1,"CONDITIONING"],[273,138,0,137,0,"IPADAPTER"],[274,139,0,137,1,"CLIP_VISION"],[330,110,1,127,0,"CLIP"],[331,110,1,128,0,"CLIP"],[334,159,0,93,1,"CONTEXT_OPTIONS"],[346,110,0,137,3,"MODEL"],[375,166,0,137,2,"IMAGE"],[376,166,0,142,0,"IMAGE"],[380,169,0,72,3,"IMAGE"],[381,169,0,164,0,"IMAGE"],[386,72,0,112,1,"CONDITIONING"],[387,72,1,112,2,"CONDITIONING"],[389,140,0,171,0,"IMAGE"],[390,171,0,170,2,"IMAGE"],[391,137,0,170,3,"MODEL"],[393,138,0,170,0,"IPADAPTER"],[394,139,0,170,1,"CLIP_VISION"],[398,170,0,93,0,"MODEL"],[407,172,0,53,0,"IMAGE"],[408,172,0,169,0,"IMAGE"],[409,172,0,166,0,"IMAGE"],[410,10,0,173,0,"IMAGE"]],"groups":[{"title":"Inputs","bounding":[-1623,-1291,702,1553],"color":"#8A8","font_size":24},{"title":"Outputs","bounding":[2382,-932,572,1409],"color":"#8AA","font_size":24},{"title":"ControlNet","bounding":[519,-1792,1715,913],"color":"#b58b2a","font_size":24},{"title":"Prompt","bounding":[735,160,702,823],"color":"#a1309b","font_size":24},{"title":"Animate Diff Nodes","bounding":[130,-602,850,516],"color":"#3f789e","font_size":24},{"title":"Video Reference IPAdapter","bounding":[-1019,528,786,1251],"color":"#b06634","font_size":24},{"title":"Keyframe IPAdapter","bounding":[-116,523,635,1271],"color":"#88A","font_size":24}],"config":{},"extra":{},"version":0.4}